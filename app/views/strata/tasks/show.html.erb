<%# Show view for displaying a task
    Required locals:
    - assigned_user_display_text: String - The name of the user assigned to this task
    - task: Strata::Task - The task object

    Optional locals:
    - task_details_partial: String - The HTML to render for the task details. If not provided, the view will look for a partial named after the task type within the `details` directory.
    - task_info: Array | String - An array of hashes containing task information to display OR an HTML string to render. See examples below.
    
    Example usage:
      render template: 'strata/tasks/default/show', locals: {
        task: @task,
        assigned_user_display_text: assigned_user&.full_name || "Not Assigned"
      }

      # OR

      render template: 'strata/tasks/default/show', locals: {
        task: @task,
        task_info: [
          { label: "Custom Label", value: "Custom Value" }
        ]
      }

      # OR

      render template: 'strata/tasks/default/show', locals: {
        task: @task,
        task_info: <marquee>My scrolling message here</marquee>
      }
%>
<main class="usa-section">
  <div class="grid-container">
    <%
      breadcrumbs = local_assigns[:breadcrumbs] || [
        {
          text: t("strata.tasks.breadcrumbs.home"),
          link: "/"
        },
        {
          text: t("strata.tasks.breadcrumbs.tasks"),
          link: url_for(only_path: true, action: :index)
        },
        {
          text: t("tasks.types.#{task.type.underscore}")
        }
      ]
    %>
    <%= render partial: "strata/shared/breadcrumbs", locals: { breadcrumbs: } %>
    <h1 class="section-heading-h1"><%= t("tasks.types.#{task.type.underscore}") %></h1>
    <%
      task_info = local_assigns[:task_info] || [
        {
          label: t("strata.tasks.show.details.status"),
          value: t("tasks.statuses.#{task.status}")
        },
        {
          label: t("strata.tasks.show.details.due_on"),
          value: local_en_us(task.due_on)
        },
        {
          label: t("strata.tasks.show.details.assigned_to"),
          value: assigned_user_display_text
        }
      ]
    %>
    <%= render partial: "strata/tasks/task_info", locals: { task_info: } %>
    <section class="usa-section padding-top-2">
      <% if flash["task-message"] %>
        <div class="usa-alert usa-alert--info usa-alert--no-icon">
          <div class="usa-alert__body">
            <p class="usa-alert__text">
              <%= flash["task-message"] %>
            </p>
          </div>
        </div>
      <% end %>
      <h2 class="section-heading-h2"><%= t("strata.tasks.show.headers.task_details") %></h2>
      <% if content_for?(:task_details_partial) %>
        <%= yield(:task_details_partial) %>
      <% else %>
        <%= render partial: "details/#{task.type.underscore}", locals: local_assigns.to_h %>
      <% end %>
    </section>
  </main>
